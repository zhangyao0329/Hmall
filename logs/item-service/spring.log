03:15:10:587  INFO 25128 --- [main] com.hmall.item.ItemApplication           : Starting ItemApplication using Java 11.0.22 on DESKTOP-M8K45S2 with PID 25128 (D:\Users\ZhangYao\Desktop\day03-微服务01\资料\hmall\item-service\target\classes started by ZhangYao in D:\Users\ZhangYao\Desktop\day03-微服务01\资料\hmall)
03:15:10:594 DEBUG 25128 --- [main] com.hmall.item.ItemApplication           : Running with Spring Boot v2.7.12, Spring v5.3.27
03:15:10:595  INFO 25128 --- [main] com.hmall.item.ItemApplication           : The following 1 profile is active: "local"
03:15:11:692  INFO 25128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
03:15:11:699  INFO 25128 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
03:15:11:699  INFO 25128 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
03:15:11:803  INFO 25128 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
03:15:11:804  INFO 25128 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1163 ms
03:15:12:933  INFO 25128 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
03:15:13:014  INFO 25128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
03:15:13:015  INFO 25128 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
03:15:13:017  INFO 25128 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
03:15:13:044  INFO 25128 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
03:15:13:182  INFO 25128 --- [main] com.hmall.item.ItemApplication           : Started ItemApplication in 3.019 seconds (JVM running for 3.837)
03:15:19:707  INFO 25128 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
03:15:19:708  INFO 25128 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
03:15:19:710  INFO 25128 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
03:15:41:869  INFO 25128 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
03:15:42:293  INFO 25128 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
03:15:42:306 DEBUG 25128 --- [http-nio-8081-exec-1] c.h.i.m.ItemMapper.selectPage_mpCount    : ==>  Preparing: SELECT COUNT(*) FROM item
03:15:42:331 DEBUG 25128 --- [http-nio-8081-exec-1] c.h.i.m.ItemMapper.selectPage_mpCount    : ==> Parameters: 
03:15:42:356 DEBUG 25128 --- [http-nio-8081-exec-1] c.h.i.m.ItemMapper.selectPage_mpCount    : <==      Total: 1
03:15:42:373 DEBUG 25128 --- [http-nio-8081-exec-1] c.h.item.mapper.ItemMapper.selectPage    : ==>  Preparing: SELECT id, name, price, stock, image, category, brand, spec, sold, comment_count, isAD, status, create_time, update_time, creater, updater FROM item ORDER BY update_time DESC LIMIT ?
03:15:42:374 DEBUG 25128 --- [http-nio-8081-exec-1] c.h.item.mapper.ItemMapper.selectPage    : ==> Parameters: 11(Long)
03:15:42:386 DEBUG 25128 --- [http-nio-8081-exec-1] c.h.item.mapper.ItemMapper.selectPage    : <==      Total: 11
03:15:59:093 DEBUG 25128 --- [http-nio-8081-exec-5] c.h.i.mapper.ItemMapper.selectBatchIds   : ==>  Preparing: SELECT id,name,price,stock,image,category,brand,spec,sold,comment_count,isAD,status,create_time,update_time,creater,updater FROM item WHERE id IN ( ? )
03:15:59:093 DEBUG 25128 --- [http-nio-8081-exec-5] c.h.i.mapper.ItemMapper.selectBatchIds   : ==> Parameters: 100000006163(Long)
03:15:59:095 DEBUG 25128 --- [http-nio-8081-exec-5] c.h.i.mapper.ItemMapper.selectBatchIds   : <==      Total: 0
03:16:06:225  INFO 25128 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
03:16:06:236  INFO 25128 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
14:21:37:564  INFO 1700 --- [main] com.hmall.item.ItemApplication           : Starting ItemApplication using Java 11.0.22 on DESKTOP-M8K45S2 with PID 1700 (D:\Users\ZhangYao\Desktop\day03-微服务01\资料\hmall\item-service\target\classes started by ZhangYao in D:\Users\ZhangYao\Desktop\day03-微服务01\资料\hmall)
14:21:37:569 DEBUG 1700 --- [main] com.hmall.item.ItemApplication           : Running with Spring Boot v2.7.12, Spring v5.3.27
14:21:37:569  INFO 1700 --- [main] com.hmall.item.ItemApplication           : The following 1 profile is active: "local"
14:21:38:344  INFO 1700 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=5e9bee20-566e-3312-9013-b264af276fc5
14:21:38:581  INFO 1700 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
14:21:38:589  INFO 1700 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
14:21:38:589  INFO 1700 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
14:21:38:684  INFO 1700 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
14:21:38:684  INFO 1700 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1078 ms
14:21:40:000  INFO 1700 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
14:21:40:354  INFO 1700 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 46be1e71-e548-473e-a967-171d909151d5
14:21:40:416  INFO 1700 --- [main] org.reflections.Reflections              : Reflections took 47 ms to scan 1 urls, producing 3 keys and 6 values 
14:21:40:435  INFO 1700 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 4 keys and 9 values 
14:21:40:443  INFO 1700 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 3 keys and 10 values 
14:21:40:447  WARN 1700 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
14:21:40:454  INFO 1700 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 1 keys and 5 values 
14:21:40:465  INFO 1700 --- [main] org.reflections.Reflections              : Reflections took 8 ms to scan 1 urls, producing 1 keys and 7 values 
14:21:40:475  INFO 1700 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 2 keys and 8 values 
14:21:40:479  WARN 1700 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
14:21:40:481  INFO 1700 --- [main] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] RpcClient init label, labels = {module=naming, source=sdk}
14:21:40:484  INFO 1700 --- [main] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
14:21:40:484  INFO 1700 --- [main] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
14:21:40:485  INFO 1700 --- [main] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
14:21:40:487  INFO 1700 --- [main] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Try to connect to server on start up, server: {serverIp = '192.168.152.128', server main port = 8848}
14:21:41:997  INFO 1700 --- [main] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Success to connect to server [192.168.152.128:8848] on start up, connectionId = 1751744764711_192.168.152.1_13106
14:21:41:998  INFO 1700 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Notify connected event to listeners.
14:21:41:999  INFO 1700 --- [main] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
14:21:42:000  INFO 1700 --- [main] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$904/0x0000000800684440
14:21:42:077  INFO 1700 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
14:21:42:094  INFO 1700 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP item-service 192.168.146.1:8081 register finished
14:21:42:404  INFO 1700 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
14:21:42:408  INFO 1700 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
14:21:42:436  INFO 1700 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
14:21:42:575  INFO 1700 --- [main] com.hmall.item.ItemApplication           : Started ItemApplication in 5.756 seconds (JVM running for 6.638)
14:21:42:628  INFO 1700 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Receive server push request, request = NotifySubscriberRequest, requestId = 2
14:21:42:631  INFO 1700 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Ack server push request, request = NotifySubscriberRequest, requestId = 2
14:23:43:664  INFO 1700 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Server healthy check fail, currentConnection = 1751744764711_192.168.152.1_13106
14:23:43:665  INFO 1700 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Try to reconnect to a new server, server is  not appointed, will choose a random server.
14:23:44:706  INFO 1700 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Success to connect a server [192.168.152.128:8848], connectionId = 1751744887532_192.168.152.1_9830
14:23:44:710  INFO 1700 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Abandon prev connection, server is 192.168.152.128:8848, connectionId is 1751744764711_192.168.152.1_13106
14:23:44:710  INFO 1700 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1751744764711_192.168.152.1_13106
14:23:44:720  INFO 1700 --- [nacos-grpc-client-executor-60] c.a.n.c.remote.client.grpc.GrpcClient    : [1751744764711_192.168.152.1_13106]Ignore complete event,isRunning:false,isAbandon=true
14:23:44:725  INFO 1700 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Notify disconnected event to listeners
14:23:44:727  INFO 1700 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Notify connected event to listeners.
14:23:47:127  INFO 1700 --- [nacos-grpc-client-executor-65] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Receive server push request, request = NotifySubscriberRequest, requestId = 3
14:23:47:127  INFO 1700 --- [nacos-grpc-client-executor-65] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Ack server push request, request = NotifySubscriberRequest, requestId = 3
14:23:50:201  WARN 1700 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
14:23:50:201  WARN 1700 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
14:23:50:202  WARN 1700 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
14:23:50:203  WARN 1700 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
14:23:53:494 ERROR 1700 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Send request fail, request = SubscribeServiceRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 356500 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@41157ab0[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@7b6d7b16, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@130fc755, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@1b72890}}}}}]]
14:23:53:499 ERROR 1700 --- [SpringApplicationShutdownHook] c.a.cloud.nacos.discovery.NacosWatch     : namingService unsubscribe failed, properties:NacosDiscoveryProperties{serverAddr='192.168.152.128:8848', username='', password='', endpoint='', namespace='', watchDelay=30000, logName='', service='item-service', weight=1.0, clusterName='DEFAULT', group='DEFAULT_GROUP', namingLoadCacheAtStart='false', metadata={preserved.register.source=SPRING_CLOUD}, registerEnabled=true, ip='192.168.146.1', networkInterface='', port=8081, secure=false, accessKey='', secretKey='', heartBeatInterval=null, heartBeatTimeout=null, ipDeleteTimeout=null, instanceEnabled=true, ephemeral=true, failureToleranceEnabled=false}, ipDeleteTimeout=null, failFast=true}

com.alibaba.nacos.api.exception.NacosException: Request nacos server failed: 
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:290) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.doUnsubscribe(NamingGrpcClientProxy.java:260) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.unsubscribe(NamingGrpcClientProxy.java:241) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.unsubscribe(NamingClientProxyDelegate.java:157) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.client.naming.NacosNamingService.unsubscribe(NacosNamingService.java:417) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.cloud.nacos.discovery.NacosWatch.stop(NacosWatch.java:174) ~[spring-cloud-starter-alibaba-nacos-discovery-2021.0.4.0.jar:2021.0.4.0]
	at com.alibaba.cloud.nacos.discovery.NacosWatch.stop(NacosWatch.java:107) ~[spring-cloud-starter-alibaba-nacos-discovery-2021.0.4.0.jar:2021.0.4.0]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:234) ~[spring-context-5.3.27.jar:5.3.27]
	at org.springframework.context.support.DefaultLifecycleProcessor.access$300(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.27.jar:5.3.27]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:373) ~[spring-context-5.3.27.jar:5.3.27]
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:206) ~[spring-context-5.3.27.jar:5.3.27]
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:129) ~[spring-context-5.3.27.jar:5.3.27]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1069) ~[spring-context-5.3.27.jar:5.3.27]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174) ~[spring-boot-2.7.12.jar:2.7.12]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1023) ~[spring-context-5.3.27.jar:5.3.27]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145) ~[spring-boot-2.7.12.jar:2.7.12]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114) ~[spring-boot-2.7.12.jar:2.7.12]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: com.alibaba.nacos.api.exception.NacosException: java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 356500 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@41157ab0[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@7b6d7b16, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@130fc755, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@1b72890}}}}}]]
	at com.alibaba.nacos.common.remote.client.grpc.GrpcConnection.request(GrpcConnection.java:78) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:652) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:630) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:280) ~[nacos-client-2.0.4.jar:na]
	... 18 common frames omitted
Caused by: java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 356500 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@41157ab0[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@7b6d7b16, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@130fc755, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@1b72890}}}}}]]
	at com.alibaba.nacos.shaded.com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:508) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.grpc.GrpcConnection.request(GrpcConnection.java:76) ~[nacos-client-2.0.4.jar:na]
	... 21 common frames omitted

14:23:53:501  INFO 1700 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
14:23:53:602 ERROR 1700 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Send request fail, request = InstanceRequest{headers={app=unknown}, requestId='null'}, retryTimes = 0, errorMessage = Client not connected, current status:UNHEALTHY
14:23:53:703 ERROR 1700 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Send request fail, request = InstanceRequest{headers={app=unknown}, requestId='null'}, retryTimes = 1, errorMessage = Client not connected, current status:UNHEALTHY
14:23:53:804 ERROR 1700 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Send request fail, request = InstanceRequest{headers={app=unknown}, requestId='null'}, retryTimes = 2, errorMessage = Client not connected, current status:UNHEALTHY
14:23:53:805 ERROR 1700 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : ERR_NACOS_DEREGISTER, de-register failed...NacosRegistration{nacosDiscoveryProperties=NacosDiscoveryProperties{serverAddr='192.168.152.128:8848', username='', password='', endpoint='', namespace='', watchDelay=30000, logName='', service='item-service', weight=1.0, clusterName='DEFAULT', group='DEFAULT_GROUP', namingLoadCacheAtStart='false', metadata={preserved.register.source=SPRING_CLOUD}, registerEnabled=true, ip='192.168.146.1', networkInterface='', port=8081, secure=false, accessKey='', secretKey='', heartBeatInterval=null, heartBeatTimeout=null, ipDeleteTimeout=null, instanceEnabled=true, ephemeral=true, failureToleranceEnabled=false}, ipDeleteTimeout=null, failFast=true}},

com.alibaba.nacos.api.exception.NacosException: Request nacos server failed: 
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:290) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.doDeregisterService(NamingGrpcClientProxy.java:153) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.deregisterService(NamingGrpcClientProxy.java:139) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.deregisterService(NamingClientProxyDelegate.java:99) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.client.naming.NacosNamingService.deregisterInstance(NacosNamingService.java:180) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.client.naming.NacosNamingService.deregisterInstance(NacosNamingService.java:170) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.cloud.nacos.registry.NacosServiceRegistry.deregister(NacosServiceRegistry.java:106) ~[spring-cloud-starter-alibaba-nacos-discovery-2021.0.4.0.jar:2021.0.4.0]
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.deregister(AbstractAutoServiceRegistration.java:249) ~[spring-cloud-commons-3.1.3.jar:3.1.3]
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.stop(AbstractAutoServiceRegistration.java:264) ~[spring-cloud-commons-3.1.3.jar:3.1.3]
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.destroy(AbstractAutoServiceRegistration.java:201) ~[spring-cloud-commons-3.1.3.jar:3.1.3]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1108) ~[spring-context-5.3.27.jar:5.3.27]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1077) ~[spring-context-5.3.27.jar:5.3.27]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174) ~[spring-boot-2.7.12.jar:2.7.12]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1023) ~[spring-context-5.3.27.jar:5.3.27]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145) ~[spring-boot-2.7.12.jar:2.7.12]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114) ~[spring-boot-2.7.12.jar:2.7.12]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: com.alibaba.nacos.api.exception.NacosException: Client not connected, current status:UNHEALTHY
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:650) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:630) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:280) ~[nacos-client-2.0.4.jar:na]
	... 30 common frames omitted

14:23:53:805  INFO 1700 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
14:23:54:109  INFO 1700 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
14:23:54:110  INFO 1700 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@66d235fa[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
14:23:54:110  INFO 1700 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Try to reconnect to a new server, server is  not appointed, will choose a random server.
14:23:54:110  INFO 1700 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1751744887532_192.168.152.1_9830
14:23:54:110  INFO 1700 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [46be1e71-e548-473e-a967-171d909151d5] Client is shutdown, stop reconnect to server
14:23:54:112  INFO 1700 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1d8cc98f[Running, pool size = 11, active threads = 0, queued tasks = 0, completed tasks = 66]
14:23:54:113 ERROR 1700 --- [com.alibaba.nacos.client.naming.grpc.redo.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = SubscribeServiceRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.lang.InterruptedException
14:26:14:121  INFO 8496 --- [main] com.hmall.item.ItemApplication           : Starting ItemApplication using Java 11.0.22 on DESKTOP-M8K45S2 with PID 8496 (D:\Users\ZhangYao\Desktop\day03-微服务01\资料\hmall\item-service\target\classes started by ZhangYao in D:\Users\ZhangYao\Desktop\day03-微服务01\资料\hmall)
14:26:14:124 DEBUG 8496 --- [main] com.hmall.item.ItemApplication           : Running with Spring Boot v2.7.12, Spring v5.3.27
14:26:14:124  INFO 8496 --- [main] com.hmall.item.ItemApplication           : The following 1 profile is active: "local"
14:26:15:151  INFO 8496 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=5e9bee20-566e-3312-9013-b264af276fc5
14:26:15:526  INFO 8496 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
14:26:15:536  INFO 8496 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
14:26:15:536  INFO 8496 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
14:26:15:695  INFO 8496 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
14:26:15:696  INFO 8496 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1538 ms
14:26:17:646  INFO 8496 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
14:26:18:238  INFO 8496 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 0c559a9c-b654-4924-b1f3-d0ef1b615930
14:26:18:288  INFO 8496 --- [main] org.reflections.Reflections              : Reflections took 25 ms to scan 1 urls, producing 3 keys and 6 values 
14:26:18:313  INFO 8496 --- [main] org.reflections.Reflections              : Reflections took 10 ms to scan 1 urls, producing 4 keys and 9 values 
14:26:18:324  INFO 8496 --- [main] org.reflections.Reflections              : Reflections took 8 ms to scan 1 urls, producing 3 keys and 10 values 
14:26:18:328  WARN 8496 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
14:26:18:335  INFO 8496 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 1 keys and 5 values 
14:26:18:347  INFO 8496 --- [main] org.reflections.Reflections              : Reflections took 8 ms to scan 1 urls, producing 1 keys and 7 values 
14:26:18:356  INFO 8496 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 2 keys and 8 values 
14:26:18:358  WARN 8496 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
14:26:18:359  INFO 8496 --- [main] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] RpcClient init label, labels = {module=naming, source=sdk}
14:26:18:361  INFO 8496 --- [main] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
14:26:18:361  INFO 8496 --- [main] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
14:26:18:361  INFO 8496 --- [main] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
14:26:18:363  INFO 8496 --- [main] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Try to connect to server on start up, server: {serverIp = '192.168.152.128', server main port = 8848}
14:26:19:902  INFO 8496 --- [main] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Success to connect to server [192.168.152.128:8848] on start up, connectionId = 1751783179802_192.168.152.1_10423
14:26:19:903  INFO 8496 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Notify connected event to listeners.
14:26:19:904  INFO 8496 --- [main] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
14:26:19:905  INFO 8496 --- [main] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$904/0x0000000800684440
14:26:19:973  INFO 8496 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
14:26:19:983  INFO 8496 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP item-service 192.168.146.1:8081 register finished
14:26:20:302  INFO 8496 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
14:26:20:306  INFO 8496 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
14:26:20:334  INFO 8496 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
14:26:20:497  INFO 8496 --- [main] com.hmall.item.ItemApplication           : Started ItemApplication in 7.329 seconds (JVM running for 8.411)
14:26:20:538  INFO 8496 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Receive server push request, request = NotifySubscriberRequest, requestId = 5
14:26:20:542  INFO 8496 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Ack server push request, request = NotifySubscriberRequest, requestId = 5
14:33:41:876  INFO 8496 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Server healthy check fail, currentConnection = 1751783179802_192.168.152.1_10423
14:33:41:895  INFO 8496 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Try to reconnect to a new server, server is  not appointed, will choose a random server.
14:33:43:054  INFO 8496 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Success to connect a server [192.168.152.128:8848], connectionId = 1751783622957_192.168.152.1_11112
14:33:43:054  INFO 8496 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Abandon prev connection, server is 192.168.152.128:8848, connectionId is 1751783179802_192.168.152.1_10423
14:33:43:054  INFO 8496 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1751783179802_192.168.152.1_10423
14:33:43:057  INFO 8496 --- [nacos-grpc-client-executor-141] c.a.n.c.remote.client.grpc.GrpcClient    : [1751783179802_192.168.152.1_10423]Ignore complete event,isRunning:false,isAbandon=true
14:33:43:071  INFO 8496 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Notify disconnected event to listeners
14:33:43:084  INFO 8496 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Notify connected event to listeners.
14:33:46:134  INFO 8496 --- [nacos-grpc-client-executor-144] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Receive server push request, request = NotifySubscriberRequest, requestId = 7
14:33:46:145  INFO 8496 --- [nacos-grpc-client-executor-144] com.alibaba.nacos.common.remote.client   : [0c559a9c-b654-4924-b1f3-d0ef1b615930] Ack server push request, request = NotifySubscriberRequest, requestId = 7
14:34:28:993  WARN 8496 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
14:34:28:993  WARN 8496 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
14:34:28:996  WARN 8496 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
14:34:28:997  WARN 8496 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
14:34:29:516  INFO 8496 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
14:34:29:522  INFO 8496 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
14:34:29:833  INFO 8496 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
14:34:29:833  INFO 8496 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@22b3b99a[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
14:34:29:833  INFO 8496 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1751783622957_192.168.152.1_11112
14:34:29:836  INFO 8496 --- [nacos-grpc-client-executor-155] c.a.n.c.remote.client.grpc.GrpcClient    : [1751783622957_192.168.152.1_11112]Ignore complete event,isRunning:false,isAbandon=false
14:34:29:838  INFO 8496 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@188cc34d[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 156]
14:40:48:488  INFO 9532 --- [main] com.hmall.item.ItemApplication           : Starting ItemApplication using Java 11.0.22 on DESKTOP-M8K45S2 with PID 9532 (D:\Users\ZhangYao\Desktop\day03-微服务01\资料\hmall\item-service\target\classes started by ZhangYao in D:\Users\ZhangYao\Desktop\day03-微服务01\资料\hmall)
14:40:48:490 DEBUG 9532 --- [main] com.hmall.item.ItemApplication           : Running with Spring Boot v2.7.12, Spring v5.3.27
14:40:48:491  INFO 9532 --- [main] com.hmall.item.ItemApplication           : The following 1 profile is active: "local"
14:40:49:417  INFO 9532 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=5e9bee20-566e-3312-9013-b264af276fc5
14:40:49:766  INFO 9532 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
14:40:49:778  INFO 9532 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
14:40:49:778  INFO 9532 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
14:40:49:902  INFO 9532 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
14:40:49:902  INFO 9532 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1370 ms
14:40:51:651  INFO 9532 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
14:40:52:134  INFO 9532 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of d7a00887-7722-4205-8297-5339448655ba
14:40:52:184  INFO 9532 --- [main] org.reflections.Reflections              : Reflections took 28 ms to scan 1 urls, producing 3 keys and 6 values 
14:40:52:214  INFO 9532 --- [main] org.reflections.Reflections              : Reflections took 9 ms to scan 1 urls, producing 4 keys and 9 values 
14:40:52:228  INFO 9532 --- [main] org.reflections.Reflections              : Reflections took 11 ms to scan 1 urls, producing 3 keys and 10 values 
14:40:52:231  WARN 9532 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
14:40:52:238  INFO 9532 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 1 keys and 5 values 
14:40:52:248  INFO 9532 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 1 keys and 7 values 
14:40:52:256  INFO 9532 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 2 keys and 8 values 
14:40:52:258  WARN 9532 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
14:40:52:259  INFO 9532 --- [main] com.alibaba.nacos.common.remote.client   : [d7a00887-7722-4205-8297-5339448655ba] RpcClient init label, labels = {module=naming, source=sdk}
14:40:52:262  INFO 9532 --- [main] com.alibaba.nacos.common.remote.client   : [d7a00887-7722-4205-8297-5339448655ba] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
14:40:52:262  INFO 9532 --- [main] com.alibaba.nacos.common.remote.client   : [d7a00887-7722-4205-8297-5339448655ba] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
14:40:52:262  INFO 9532 --- [main] com.alibaba.nacos.common.remote.client   : [d7a00887-7722-4205-8297-5339448655ba] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
14:40:52:264  INFO 9532 --- [main] com.alibaba.nacos.common.remote.client   : [d7a00887-7722-4205-8297-5339448655ba] Try to connect to server on start up, server: {serverIp = '192.168.152.128', server main port = 8848}
14:40:53:976  INFO 9532 --- [main] com.alibaba.nacos.common.remote.client   : [d7a00887-7722-4205-8297-5339448655ba] Success to connect to server [192.168.152.128:8848] on start up, connectionId = 1751784053919_192.168.152.1_11430
14:40:53:976  INFO 9532 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [d7a00887-7722-4205-8297-5339448655ba] Notify connected event to listeners.
14:40:53:978  INFO 9532 --- [main] com.alibaba.nacos.common.remote.client   : [d7a00887-7722-4205-8297-5339448655ba] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
14:40:53:978  INFO 9532 --- [main] com.alibaba.nacos.common.remote.client   : [d7a00887-7722-4205-8297-5339448655ba] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$904/0x0000000800684440
14:40:54:041  INFO 9532 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
14:40:54:051  INFO 9532 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP item-service 192.168.146.1:8081 register finished
14:40:54:412  INFO 9532 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
14:40:54:415  INFO 9532 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
14:40:54:443  INFO 9532 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
14:40:54:569  INFO 9532 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [d7a00887-7722-4205-8297-5339448655ba] Receive server push request, request = NotifySubscriberRequest, requestId = 8
14:40:54:573  INFO 9532 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [d7a00887-7722-4205-8297-5339448655ba] Ack server push request, request = NotifySubscriberRequest, requestId = 8
14:40:54:601  INFO 9532 --- [main] com.hmall.item.ItemApplication           : Started ItemApplication in 7.058 seconds (JVM running for 8.315)
14:45:00:444  INFO 9532 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
14:45:00:460  INFO 9532 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
14:45:00:554  INFO 9532 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 93 ms
14:45:00:760  INFO 9532 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
14:45:01:147  INFO 9532 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
14:45:01:158 DEBUG 9532 --- [http-nio-8081-exec-1] c.h.i.mapper.ItemMapper.selectBatchIds   : ==>  Preparing: SELECT id,name,price,stock,image,category,brand,spec,sold,comment_count,isAD,status,create_time,update_time,creater,updater FROM item WHERE id IN ( ? )
14:45:01:192 DEBUG 9532 --- [http-nio-8081-exec-1] c.h.i.mapper.ItemMapper.selectBatchIds   : ==> Parameters: 100000006163(Long)
14:45:01:218 DEBUG 9532 --- [http-nio-8081-exec-1] c.h.i.mapper.ItemMapper.selectBatchIds   : <==      Total: 0
14:45:59:808 DEBUG 9532 --- [http-nio-8081-exec-2] c.h.i.mapper.ItemMapper.selectBatchIds   : ==>  Preparing: SELECT id,name,price,stock,image,category,brand,spec,sold,comment_count,isAD,status,create_time,update_time,creater,updater FROM item WHERE id IN ( ? )
14:45:59:809 DEBUG 9532 --- [http-nio-8081-exec-2] c.h.i.mapper.ItemMapper.selectBatchIds   : ==> Parameters: 100000006163(Long)
14:45:59:811 DEBUG 9532 --- [http-nio-8081-exec-2] c.h.i.mapper.ItemMapper.selectBatchIds   : <==      Total: 0
14:46:00:910 DEBUG 9532 --- [http-nio-8081-exec-3] c.h.i.mapper.ItemMapper.selectBatchIds   : ==>  Preparing: SELECT id,name,price,stock,image,category,brand,spec,sold,comment_count,isAD,status,create_time,update_time,creater,updater FROM item WHERE id IN ( ? )
14:46:00:910 DEBUG 9532 --- [http-nio-8081-exec-3] c.h.i.mapper.ItemMapper.selectBatchIds   : ==> Parameters: 100000006163(Long)
14:46:00:912 DEBUG 9532 --- [http-nio-8081-exec-3] c.h.i.mapper.ItemMapper.selectBatchIds   : <==      Total: 0
14:46:01:572 DEBUG 9532 --- [http-nio-8081-exec-4] c.h.i.mapper.ItemMapper.selectBatchIds   : ==>  Preparing: SELECT id,name,price,stock,image,category,brand,spec,sold,comment_count,isAD,status,create_time,update_time,creater,updater FROM item WHERE id IN ( ? )
14:46:01:573 DEBUG 9532 --- [http-nio-8081-exec-4] c.h.i.mapper.ItemMapper.selectBatchIds   : ==> Parameters: 100000006163(Long)
14:46:01:575 DEBUG 9532 --- [http-nio-8081-exec-4] c.h.i.mapper.ItemMapper.selectBatchIds   : <==      Total: 0
14:46:01:787 DEBUG 9532 --- [http-nio-8081-exec-5] c.h.i.mapper.ItemMapper.selectBatchIds   : ==>  Preparing: SELECT id,name,price,stock,image,category,brand,spec,sold,comment_count,isAD,status,create_time,update_time,creater,updater FROM item WHERE id IN ( ? )
14:46:01:788 DEBUG 9532 --- [http-nio-8081-exec-5] c.h.i.mapper.ItemMapper.selectBatchIds   : ==> Parameters: 100000006163(Long)
14:46:01:791 DEBUG 9532 --- [http-nio-8081-exec-5] c.h.i.mapper.ItemMapper.selectBatchIds   : <==      Total: 0
14:46:02:084 DEBUG 9532 --- [http-nio-8081-exec-6] c.h.i.mapper.ItemMapper.selectBatchIds   : ==>  Preparing: SELECT id,name,price,stock,image,category,brand,spec,sold,comment_count,isAD,status,create_time,update_time,creater,updater FROM item WHERE id IN ( ? )
14:46:02:084 DEBUG 9532 --- [http-nio-8081-exec-6] c.h.i.mapper.ItemMapper.selectBatchIds   : ==> Parameters: 100000006163(Long)
14:46:02:086 DEBUG 9532 --- [http-nio-8081-exec-6] c.h.i.mapper.ItemMapper.selectBatchIds   : <==      Total: 0
14:46:03:121 DEBUG 9532 --- [http-nio-8081-exec-7] c.h.i.mapper.ItemMapper.selectBatchIds   : ==>  Preparing: SELECT id,name,price,stock,image,category,brand,spec,sold,comment_count,isAD,status,create_time,update_time,creater,updater FROM item WHERE id IN ( ? )
14:46:03:121 DEBUG 9532 --- [http-nio-8081-exec-7] c.h.i.mapper.ItemMapper.selectBatchIds   : ==> Parameters: 100000006163(Long)
14:46:03:122 DEBUG 9532 --- [http-nio-8081-exec-7] c.h.i.mapper.ItemMapper.selectBatchIds   : <==      Total: 0
14:46:03:363 DEBUG 9532 --- [http-nio-8081-exec-8] c.h.i.mapper.ItemMapper.selectBatchIds   : ==>  Preparing: SELECT id,name,price,stock,image,category,brand,spec,sold,comment_count,isAD,status,create_time,update_time,creater,updater FROM item WHERE id IN ( ? )
14:46:03:363 DEBUG 9532 --- [http-nio-8081-exec-8] c.h.i.mapper.ItemMapper.selectBatchIds   : ==> Parameters: 100000006163(Long)
14:46:03:365 DEBUG 9532 --- [http-nio-8081-exec-8] c.h.i.mapper.ItemMapper.selectBatchIds   : <==      Total: 0
14:53:49:677  WARN 9532 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
14:53:49:676  WARN 9532 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
14:53:49:685  WARN 9532 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
14:53:49:692  WARN 9532 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
14:53:50:241  INFO 9532 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
14:53:50:249  INFO 9532 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
14:53:50:561  INFO 9532 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
14:53:50:561  INFO 9532 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@60141b5a[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
14:53:50:561  INFO 9532 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1751784053919_192.168.152.1_11430
14:53:50:566  INFO 9532 --- [nacos-grpc-client-executor-184] c.a.n.c.remote.client.grpc.GrpcClient    : [1751784053919_192.168.152.1_11430]Ignore complete event,isRunning:false,isAbandon=false
14:53:50:589  INFO 9532 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2a45516a[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 185]
14:53:50:615  INFO 9532 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
14:53:50:676  INFO 9532 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
15:10:08:566  INFO 9440 --- [main] com.hmall.item.ItemApplication           : Starting ItemApplication using Java 11.0.22 on DESKTOP-M8K45S2 with PID 9440 (D:\Users\ZhangYao\Desktop\day03-微服务01\资料\hmall\item-service\target\classes started by ZhangYao in D:\Users\ZhangYao\Desktop\day03-微服务01\资料\hmall)
15:10:08:568 DEBUG 9440 --- [main] com.hmall.item.ItemApplication           : Running with Spring Boot v2.7.12, Spring v5.3.27
15:10:08:569  INFO 9440 --- [main] com.hmall.item.ItemApplication           : The following 1 profile is active: "local"
15:10:09:405  INFO 9440 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4bfc9de9-e038-3558-935b-3c76900ae4be
15:10:09:755  INFO 9440 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
15:10:09:763  INFO 9440 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
15:10:09:763  INFO 9440 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
15:10:09:888  INFO 9440 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
15:10:09:888  INFO 9440 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1287 ms
15:10:11:442  INFO 9440 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
15:10:11:932  INFO 9440 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of b8409968-92b0-46b3-8d61-1d6fafbc0bc5
15:10:11:976  INFO 9440 --- [main] org.reflections.Reflections              : Reflections took 20 ms to scan 1 urls, producing 3 keys and 6 values 
15:10:12:013  INFO 9440 --- [main] org.reflections.Reflections              : Reflections took 13 ms to scan 1 urls, producing 4 keys and 9 values 
15:10:12:026  INFO 9440 --- [main] org.reflections.Reflections              : Reflections took 8 ms to scan 1 urls, producing 3 keys and 10 values 
15:10:12:031  WARN 9440 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
15:10:12:044  INFO 9440 --- [main] org.reflections.Reflections              : Reflections took 12 ms to scan 1 urls, producing 1 keys and 5 values 
15:10:12:058  INFO 9440 --- [main] org.reflections.Reflections              : Reflections took 10 ms to scan 1 urls, producing 1 keys and 7 values 
15:10:12:071  INFO 9440 --- [main] org.reflections.Reflections              : Reflections took 9 ms to scan 1 urls, producing 2 keys and 8 values 
15:10:12:074  WARN 9440 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
15:10:12:076  INFO 9440 --- [main] com.alibaba.nacos.common.remote.client   : [b8409968-92b0-46b3-8d61-1d6fafbc0bc5] RpcClient init label, labels = {module=naming, source=sdk}
15:10:12:078  INFO 9440 --- [main] com.alibaba.nacos.common.remote.client   : [b8409968-92b0-46b3-8d61-1d6fafbc0bc5] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
15:10:12:078  INFO 9440 --- [main] com.alibaba.nacos.common.remote.client   : [b8409968-92b0-46b3-8d61-1d6fafbc0bc5] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
15:10:12:079  INFO 9440 --- [main] com.alibaba.nacos.common.remote.client   : [b8409968-92b0-46b3-8d61-1d6fafbc0bc5] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
15:10:12:081  INFO 9440 --- [main] com.alibaba.nacos.common.remote.client   : [b8409968-92b0-46b3-8d61-1d6fafbc0bc5] Try to connect to server on start up, server: {serverIp = '192.168.152.128', server main port = 8848}
15:10:13:423  INFO 9440 --- [main] com.alibaba.nacos.common.remote.client   : [b8409968-92b0-46b3-8d61-1d6fafbc0bc5] Success to connect to server [192.168.152.128:8848] on start up, connectionId = 1751785813403_192.168.152.1_12732
15:10:13:424  INFO 9440 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [b8409968-92b0-46b3-8d61-1d6fafbc0bc5] Notify connected event to listeners.
15:10:13:425  INFO 9440 --- [main] com.alibaba.nacos.common.remote.client   : [b8409968-92b0-46b3-8d61-1d6fafbc0bc5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
15:10:13:426  INFO 9440 --- [main] com.alibaba.nacos.common.remote.client   : [b8409968-92b0-46b3-8d61-1d6fafbc0bc5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$938/0x00000008006aa440
15:10:13:476  INFO 9440 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
15:10:13:506  INFO 9440 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP item-service 192.168.146.1:8081 register finished
15:10:13:741  INFO 9440 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
15:10:13:743  INFO 9440 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
15:10:13:763  INFO 9440 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
15:10:13:889  INFO 9440 --- [main] com.hmall.item.ItemApplication           : Started ItemApplication in 6.078 seconds (JVM running for 7.009)
15:10:14:029  INFO 9440 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [b8409968-92b0-46b3-8d61-1d6fafbc0bc5] Receive server push request, request = NotifySubscriberRequest, requestId = 15
15:10:14:032  INFO 9440 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [b8409968-92b0-46b3-8d61-1d6fafbc0bc5] Ack server push request, request = NotifySubscriberRequest, requestId = 15
15:10:21:408  INFO 9440 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
15:10:21:408  INFO 9440 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
15:10:21:410  INFO 9440 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
15:10:21:479  INFO 9440 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
15:10:21:704  INFO 9440 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
15:10:21:709 DEBUG 9440 --- [http-nio-8081-exec-1] c.h.i.mapper.ItemMapper.selectBatchIds   : ==>  Preparing: SELECT id,name,price,stock,image,category,brand,spec,sold,comment_count,isAD,status,create_time,update_time,creater,updater FROM item WHERE id IN ( ? )
15:10:21:731 DEBUG 9440 --- [http-nio-8081-exec-1] c.h.i.mapper.ItemMapper.selectBatchIds   : ==> Parameters: 100000006163(Long)
15:10:21:756 DEBUG 9440 --- [http-nio-8081-exec-1] c.h.i.mapper.ItemMapper.selectBatchIds   : <==      Total: 0
15:10:57:938  WARN 9440 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
15:10:57:938  WARN 9440 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
15:10:57:938  WARN 9440 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
15:10:57:939  WARN 9440 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
15:10:58:220  INFO 9440 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
15:10:58:224  INFO 9440 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
15:10:58:534  INFO 9440 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
15:10:58:535  INFO 9440 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@24b9f1e4[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
15:10:58:535  INFO 9440 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1751785813403_192.168.152.1_12732
15:10:58:545  INFO 9440 --- [nacos-grpc-client-executor-30] c.a.n.c.remote.client.grpc.GrpcClient    : [1751785813403_192.168.152.1_12732]Ignore complete event,isRunning:false,isAbandon=false
15:10:58:551  INFO 9440 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7d72aa05[Running, pool size = 7, active threads = 0, queued tasks = 0, completed tasks = 31]
15:10:58:563  INFO 9440 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
15:10:58:584  INFO 9440 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
